
	<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="jquery.matchHeight.js" type="text/javascript"></script>
    <script type= "text/javascript" src="theme.js"></script>
   
    <link rel="stylesheet" href="theme.css">
</head>
<body>

  <div class="hero" style="background-image: url('https://d11blfr01er2zb.cloudfront.net/wp-content/uploads/2017/09/inbound_marketing_agency_process-1.jpg');">
          <div class="hero-header">
            <div class="inner">
             <div class="modal-body clearfix">
<div class="loginform">
        <form class="form-holder">
          <div id = "error" align="center" style = "color: red"></div>
          <span class="form-icon form-icon-turqouise">
         
          
            <i class="fa fa-user"></i>
            
            <input id="firstName" type="text" placeholder="First Name" class="form-input form-input-turqouise" required="required"/>
          </span>

          <span class="form-icon form-icon-turqouise">
            <i class="fa fa-user"></i>
            <input id="lastName" type="text" placeholder="Last Name" class="form-input form-input-turqouise" required="required"/>
          </span>
          
          <span class="form-icon form-icon-turqouise">
            <i class="fa fa-envelope"></i>
            <input id="email" type="email" placeholder="name@example.com" class="form-input form-input-turqouise" required="required"/>
          </span>
          <span class="form-icon form-icon-turqouise">
              <i class="fa fa-key"></i>
              <input id="password" type="password" placeholder="Password" class="form-input form-input-turqouise" required="required"/>
          </span>
          
           <span class="form-icon form-icon-turqouise">
              <i class="fa fa-key"></i>
              <input id="cpassword" type="password" placeholder="Confirm Password" class="form-input form-input-turqouise" required="required"/>
          </span>

            <div class="topContent" style = "overflow: auto;background-color: #84BABA; height:250px;">
                <h3 align = "center">Please select atleast 5 technologies of your interest</h3>
                <table align = "center" id = "interest">
                <tr>
                <td><input class="technologyCheck" type = "checkbox" id= "tech1" name="technology" value="Java">Java</td>
                <td><input class="technologyCheck" type = "checkbox" id= "tech2" name="technology" value="C">C</td>
                <td><input class="technologyCheck" type = "checkbox" id= "tech3" name="technology" value="Python">Python</td>
                
                
                
                <tr>
                <td><input class="technologyCheck" type = "checkbox" id= "tech6" name="technology" value="HTML">HTML</td>
                <td><input class="technologyCheck" type = "checkbox" id= "tech7" name="technology" value="CSS">CSS</td>
                <td><input class="technologyCheck" type = "checkbox" id= "tech8" name="technology" value="C#">C#</td>
                   </tr>
                
                <tr>
                <td><input class="technologyCheck" type = "checkbox" id= "tech11" name="technology" value="JQuery">JQuery</td>
                <td><input class="technologyCheck" type = "checkbox" id= "tech12" name="technology" value="R">R</td>
                <td><input class="technologyCheck" type = "checkbox" id= "tech13" name="technology" value="Angular JS">Angular JS</td>
                  </tr>
                
                <tr>
                <td><input class="technologyCheck" type = "checkbox" id= "tech16" name="technology" value="Oracle">Oracle</td>
                <td><input class="technologyCheck" type = "checkbox" id= "tech17" name="technology" value="PostgreSQL">PostgreSQL</td>
                <td><input class="technologyCheck" type = "checkbox" id= "tech18" name="technology" value="Node.js">Node.js</td>
              
                 </tr>
                 
                 <tr>
                 <td><input class="technologyCheck" type = "checkbox" id= "tech4" name="technology" value="C++">C++</td>  
                <td><input class="technologyCheck" type = "checkbox" id= "tech14" name="technology" value="Java Script">Java Script</td>
                <td><input class="technologyCheck" type = "checkbox" id= "tech9" name="technology" value="SQL">SQL</td>
                 </tr>
                 
                 <tr>
                   <td><input class="technologyCheck" type = "checkbox" id= "tech19" name="technology" value="React">React</td>
                    <td><input class="technologyCheck" type = "checkbox" id= "tech14" name="technology" value="Ruby">Ruby</td>
                <td><input class="technologyCheck" type = "checkbox" id= "tech9" name="technology" value="PHP">PHP</td>
               
                 </tr>
				</table>
            </div>
          <p>
            <button id="submitBtn" type="submit" class="button button-turqouise">Signup</button>
          </p>
         
        <div class="button button-turqouise" id="login" ><a href="index.html">Login</a></div>
        </form>
        </div>
        </div>
        </div>
        </div>
        </div>

</body>

    <script type="text/javascript">
        $("#submitBtn").click(function () {
        	
        	
            event.preventDefault();
            var checkboxes = document.querySelectorAll('input[name="technology"]:checked'), values = [];
            Array.prototype.forEach.call(checkboxes, function(el) {
                values.push(el.value);
            });
          //  alert(values);
            var firstName = $("#firstName").val();
            var lastName = $('#lastName').val();
            var email = $('#email').val();
            var password = $('#password').val();
          	var filter = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
          
            if(email == "" || firstName == "" || lastName == "" || password == "")
            	{
            	 document.getElementById("error").innerText = "All fields are necessary";
            	}
            else if(password != $('#cpassword').val())
            {
            	document.getElementById("error").innerText = "Password does not matches to confirm password";
            }
            else if(!filter.test(email))
            {
				document.getElementById("error").innerText = "Please provide a valid email address";
            }
            else if ($('[name= "technology"]:checked').length < 5 )
            	{
            	
            	document.getElementById("error").innerText = "Please select atleast 5 topics of your interest";
            	}
            else
            	{
            	document.getElementById("error").innerText= "";
            	  var data = {"fname":firstName, "lname":lastName, "email":email, "password":password, "tags":values};
                  $.post("http://laptop-mohd:3000/signup",
                      {
                          fname: firstName,
                          lname: lastName,
                          email: email,
                          password: password,
                          tags: values
                      },
                      function(data, status){
                          //alert("Data: " + JSON.stringify(data) + "\nStatus: " + status);
                        	if (data=="email exists")
                        		{
                        		document.getElementById("error").innerText = "Email ID exists in the database";
                        		
                        		}
//                          sessionStorage.setItem('userid', data.userid);
//                          var data = sessionStorage.getItem('userid');
//                          alert(data);
						else{
                          window.location.href = "home.html";
							}
                      });
            		
            	}
            
          
        });
    </script>
</html>